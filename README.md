# 개인 금융 관리 서비스 PEFINT
- 사용자의 수입과 지출을 기록하고, 예산을 설정하며, 지출 패턴을 시각화하여 재정 상태를 관리할 수 있는 플랫폼 입니다.
- 특징:
  - 카테고리별 지출 분석
  - 예산 초과 알림 기능
  - 월별/연별 리포트 생성
  - 사용자 맞춤형 재정 팁 제공
- 기능
  - 🧑‍💼 사용자 관리
    * 회원가입(일반+간편) / 로그인 (OAuth2)
    * 비밀번호 암호화 (BCrypt) - done
    * 이메일 인증 / 비밀번호 찾기
    * 사용자 프로필 관리 (닉네임, 월 예산 설정 등)
  - 💰 수입/지출 관리
    * 수입/지출 항목 등록, 수정, 삭제
      * 날짜, 카테고리, 금액, 메모 입력
    * 고정 수입/지출 반복 등록 기능 (예: 월세, 월급)
    * 지출 항목에 태그 추가 (예: #식비, #쇼핑)
    * 영수증 사진 업로드 및 OCR 처리 (고급 기능)
  - 📊 리포트 및 통계
    * 월별 수입/지출 총합 및 잔액 표시
    * 카테고리별 지출 비율 원형 차트
    * 일/주/월/연 단위 트렌드 그래프
    * 예산 대비 실지출 분석 (오버 예산 알림)
    * 예산 초과 시 푸시/이메일 알림
  - 📅 예산 관리
    * 월별 카테고리별 예산 설정
    * 예산 초과 알림 기능
    * 남은 예산 예측 및 지출 권장량 안내
  - 🔍 검색 및 필터링
    * 특정 날짜 또는 기간별 지출 조회
    * 카테고리/금액 범위로 필터링
    * 키워드 기반 항목 검색
  - 📦 추가 기능 (선택적 또는 고급)
    * CSV 또는 Excel로 수입/지출 내역 내보내기
    * 외부 은행 API 연동 (예: Open Banking)
    * 로그인 유지 및 다중 기기 동기화
    * 친구 초대 및 공동 가계부 기능
    * 머신러닝 기반 지출 예측 (예: 다음 달 예산 제안)
    * 다크모드, 사용자 테마 설정
- project gole
  * Spring Boot + Spring Data JPA → 도메인 모델링, CRUD
  * Spring Security + JWT → 인증과 인가
  * MySQL → 관계형 데이터베이스 설계
  * Redis → 세션 캐시 및 로그인 유지, 비속어 사용 불가 기능 적용
  * Scheduler (Quartz) → 반복 지출 자동 등록
  * REST API 설계 → 프론트엔드와 협업 가능
  * Swagger/OpenAPI → API 문서화
  * git

---
### 2025-06-11

#### 구현
- redis를 이용하여 로그인 유지 및 다중 로그인 불가능 하도록 변경
  - 로그인 하면 redis에 key : user:{id}, value {token,username,role}을 저장
  - 로그인 체크 할때는 reflash token이 유요한지 확인 후, redis에 있는 값과 일치하는지 확인
  - 일치하지 않으면 로그아웃될수 있도록 변경 
    - 여기서 일치하지 않는 다는건 다른 브라우저에서 로그인했을때 redis에 key값이 덮어 씌여지기 때문에 일치하지 않음
#### 트러블 슈팅
- 필드 주입의 필요성
  - 기존에 생성자 주입을 주로 사용했음
    - 유지보수가 강하고 안전
  - JwtProvider에서는 생성자 주입을 하면 secret때문에 문제가 생김. 따라서 생성자 주입을 할 수 없음
  - 따라서 필드 주입을 해야함
- @Component를 지정하고 생성자를 통해 인스턴스를 하면 발생하는 문제
  - @Component를 지정한 클래스를 DI하지 않고 생성자를 통해 인스턴스하면 정상적으로 사용할 수 있음
  - 다만, 필드에 Annotation이 있으면 해당 Annotation은 동작하지 않는다.
